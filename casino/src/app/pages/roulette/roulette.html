<div class="roulette-container">
  <h1>ğŸ¡ Roulette</h1>

  <!-- Roulette Wheel Display -->
  <div class="wheel-section">
    <div class="roulette-wheel">
      <div class="wheel-numbers" [style.transform]="'rotate(' + wheelRotation + 'deg)'">
        <div *ngFor="let num of [0, 32, 15, 19, 4, 21, 2, 25, 17, 34, 6, 27, 13, 36, 11, 30, 8, 23, 10, 5, 24, 16, 33, 1, 20, 14, 31, 9, 22, 18, 29, 7, 28, 12, 35, 3, 26]; let i = index"
             class="number-slot"
             [class.red]="getNumberColor(num) === 'red'"
             [class.black]="getNumberColor(num) === 'black'"
             [class.green]="getNumberColor(num) === 'green'"
             [style.transform]="'rotate(' + (i * 9.73) + 'deg) translateY(-140px) rotate(' + (-(i * 9.73)) + 'deg)'">
          {{ num }}
        </div>
      </div>
      <div class="ball"></div>
    </div>
    <div class="result" *ngIf="currentNumber !== null && !spinning">
      <p>Risultato: <strong [class.red]="getNumberColor(currentNumber) === 'red'" 
                             [class.black]="getNumberColor(currentNumber) === 'black'"
                             [class.green]="getNumberColor(currentNumber) === 'green'">
        {{ currentNumber }}
      </strong></p>
    </div>
  </div>

  <!-- Bets Section -->
  <div class="bets-section">
    <h2>Piazza le tuoi scommesse</h2>
    
    <!-- Bet Amount Input -->
    <div class="bet-input">
      <label>Importo della scommessa:</label>
      <input type="number" [(ngModel)]="betAmount" min="1" max="1000" [disabled]="spinning">
    </div>

    <!-- Number Bets -->
    <div class="numbers-grid">
      <h3>Numeri</h3>
      <button *ngFor="let num of [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36]"
              (click)="addBet('number', num)"
              [class.red]="getNumberColor(num) === 'red'"
              [class.black]="getNumberColor(num) === 'black'"
              [class.green]="getNumberColor(num) === 'green'"
              [disabled]="spinning"
              class="number-btn">
        {{ num }}
      </button>
    </div>

    <!-- Even Money Bets -->
    <div class="even-money-bets">
      <h3>Scommesse Pari</h3>
      <button (click)="addBet('red', 'red')" class="red-btn" [disabled]="spinning">ğŸ”´ Rosso (2:1)</button>
      <button (click)="addBet('black', 'black')" class="black-btn" [disabled]="spinning">âš« Nero (2:1)</button>
      <button (click)="addBet('even', 'even')" [disabled]="spinning">Pari (2:1)</button>
      <button (click)="addBet('odd', 'odd')" [disabled]="spinning">Dispari (2:1)</button>
      <button (click)="addBet('low', 'low')" [disabled]="spinning">1-18 (2:1)</button>
      <button (click)="addBet('high', 'high')" [disabled]="spinning">19-36 (2:1)</button>
    </div>
  </div>

  <!-- Selected Bets -->
  <div class="selected-bets" *ngIf="selectedBets.length > 0">
    <h2>Tue Scommesse (Totale: {{ getTotalBet() }})</h2>
    <div class="bets-list">
      <div *ngFor="let bet of selectedBets; let i = index" class="bet-item">
        <span>{{ bet.type === 'number' ? 'NÂ° ' + bet.value : bet.value }} - {{ bet.amount }} crediti</span>
        <button (click)="removeBet(i)" class="remove-btn">âŒ</button>
      </div>
    </div>
    <button (click)="clearBets()" class="clear-btn" [disabled]="spinning">Cancella Tutto</button>
  </div>

  <!-- Spin Button -->
  <div class="spin-section">
    <button (click)="spin()" 
            [disabled]="spinning || selectedBets.length === 0"
            class="spin-btn">
      {{ spinning ? 'ğŸ¡ Girando...' : 'GIRA LA RUOTA' }}
    </button>
  </div>

  <!-- Message -->
  <div class="message" [class.win]="lastWin > 0" [class.lose]="lastWin === 0 && currentNumber !== null">
    {{ message }}
  </div>
</div>
